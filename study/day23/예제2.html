<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>유효성 검사</title>
	<script src="../js/jquery.min.js"></script>
	<script>
		$(function(){
			/*
			$('선택자').submit(function(){
				구현
			})
			 - return값이 false이면 submit을 하지 않음
			 - return값이 true이거나 없으면 submit을 함
			 - submit을 한다는 것은 서버에 데이터를 전송
			 - submit이벤트는 form태그에서 서버로 데이터를
			 	 전송하려고 할 때 실행되는 이벤트다
			 - 선택자는 form태그와 관련된 선택자이어야 한다.
			*/
			/*
			$('선택자').focus(function(){
				구현
			})
			 - 선택자가 활성화 됐을 때 처리하는 이벤트를 등록
			 - focus는 주로 input태그나 select태그에서 실행한다.
			 - focus 이벤트를 등록시키는 것보다 focus 이벤트를
				 실행하는 경우가 많다.
			$('선택자').focus()
			 - focus 이벤트 실행
			*/
			/*
			$('선택자').change(function(){
				구현;
			})
			 - 내용이 변경되었을 때(입력 내용이 변경되고 focus가 
			 	 변경되어야 적용) 실행되는 change 이벤트를 등록
			 - 주로 input태그나 select 태그에 적용
			*/
			// $('form').submit(function(){
			// 	//유효성 검사 전에 이전에 했던 유효성 결과를 지워주는
			// 	//작업
			// 	$('#idError').html('');
			// 	$('#pw1Error').html('');
			// 	$('#pw2Error').html('');
			// 	/*
			// 	아이디, 비번, 비번확인이 입력되지 않으면
			// 	submit이 되지 않도록 처리하는 예제
			// 	1. 아이디를 입력하는 인풋창에 입력된 값을 가져옴
			// 	2. 입력된 값의 길이를 체크
			// 	3. 체크한 길이가 0인 경우 submit이 되지 않도록 처리
			// 	*/
			// 	var id = $('#id').val();
			// 	//문자열인 경우 length 속성을 이용하여 길이 확인이
			// 	//가능
			// 	if(id.length == 0 ){
			// 		$('#idError').html('아이디는 필수 항목입니다.');
			// 		return false;
			// 	}
			// 	var pw1 = $('#pw1').val();
			// 	if(pw1.length == 0 ){
			// 		$('#pw1Error').html('비밀번호는 필수 항목입니다.');
			// 		return false;
			// 	}
			// 	var pw2 = $('#pw2').val();
			// 	if(pw2 != pw1 ){
			// 		$('#pw2Error').html('비밀번호와 일치하지 않습니다.');
			// 		return false;
			// 	}
			// })
			$('button').click(function(){
				$('#idError').html('');
				$('#pw1Error').html('');
				$('#pw2Error').html('');
				
				var id = $('#id').val();
				if(id.length == 0 ){
					$('#idError').html('아이디는 필수 항목입니다.');
					$('#id').focus();
					return false;
				}
				var pw1 = $('#pw1').val();
				if(pw1.length == 0 ){
					$('#pw1Error').html('비밀번호는 필수 항목입니다.');
					$('#pw1').focus();
					return false;
				}
				var pw2 = $('#pw2').val();
				if(pw2 != pw1 ){
					$('#pw2Error').html('비밀번호와 일치하지 않습니다.');
					$('#pw2').focus();
					return false;
				}
				//submit 이벤트를 실행해라
				$('form').submit();
			})
			$('#id').change(function(){
				var id = $('#id').val();
				if(id.length == 0 ){
					$('#idError').html('아이디는 필수 항목입니다.');
				}
			})
			$('#id').keyup(function(){
				$('#idError').html('')
				var id = $('#id').val();
				if(id.length == 0 ){
					$('#idError').html('아이디는 필수 항목입니다.');
				}
			})
		})
	</script>
	<style>
		.red{
			color: red;
		}
	</style>
</head>
<body>
	<form action="">
		<div>
			<input type="text" placeholder="아이디" id="id">
		</div>
		<div id="idError" class="red"></div>
		<div>
			<input type="password" placeholder="비번" id="pw1">
		</div>
		<div id="pw1Error" class="red"></div>
		<div>
			<input type="password" placeholder="비번확인" id="pw2">
		</div>
		<div id="pw2Error" class="red"></div>
		<button type="button">회원가입</button>
	</form>
</body>
</html>